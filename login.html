<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Login - Graphura</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
  * {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
  }

  body {
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    background: #f5f5f5;
  }

  .container {
    width: 400px;
    background: #ffffff;
    border-radius: 12px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    padding: 40px 35px;
  }

  .logo {
    text-align: center;
    margin-bottom: 30px;
  }

  .logo h1 {
    font-size: 32px;
    font-weight: 700;
    background: linear-gradient(135deg, #e63946 0%, #c1121f 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    margin-bottom: 8px;
    letter-spacing: -0.5px;
  }

  .logo p {
    font-size: 14px;
    color: #666;
  }

  .toggle-container {
    display: flex;
    background: #f0f0f0;
    border-radius: 8px;
    padding: 4px;
    margin-bottom: 30px;
  }

  .toggle-btn {
    flex: 1;
    padding: 10px;
    text-align: center;
    border: none;
    background: transparent;
    color: #666;
    font-size: 14px;
    font-weight: 600;
    cursor: pointer;
    border-radius: 6px;
    transition: all 0.2s;
  }

  .toggle-btn.active {
    background: #e63946;
    color: #ffffff;
  }

  .form-container {
    display: none;
  }

  .form-container.active {
    display: block;
  }

  .field {
    margin-bottom: 20px;
  }

  .field label {
    display: block;
    font-size: 14px;
    margin-bottom: 8px;
    color: #333;
    font-weight: 500;
  }

  .field input {
    width: 100%;
    padding: 12px 16px;
    border-radius: 8px;
    border: 2px solid #e0e0e0;
    font-size: 15px;
    transition: all 0.2s;
  }

  .field input:focus {
    border-color: #e63946;
    outline: none;
    box-shadow: 0 0 0 3px rgba(230, 57, 70, 0.1);
  }

  .field select {
    width: 100%;
    padding: 12px 16px;
    border-radius: 8px;
    border: 2px solid #e0e0e0;
    font-size: 15px;
    background: #ffffff;
    cursor: pointer;
    transition: all 0.2s;
  }

  .field select:focus {
    border-color: #e63946;
    outline: none;
    box-shadow: 0 0 0 3px rgba(230, 57, 70, 0.1);
  }

  .btn {
    width: 100%;
    padding: 12px 0;
    border: none;
    border-radius: 8px;
    background: #e63946;
    color: #ffffff;
    font-size: 16px;
    font-weight: 600;
    cursor: pointer;
    margin-top: 10px;
    transition: all 0.2s;
  }

  .btn:hover {
    background: #c1121f;
  }

  .btn:disabled {
    background: #ccc;
    cursor: not-allowed;
  }

  .success-message {
    background-color: #e8f5e9;
    color: #2e7d32;
    padding: 12px;
    border-radius: 8px;
    margin-bottom: 20px;
    font-size: 14px;
    display: none;
  }

  .success-message.show {
    display: block;
  }

  .error-message {
    background-color: #ffebee;
    color: #d32f2f;
    padding: 12px;
    border-radius: 8px;
    margin-bottom: 20px;
    font-size: 14px;
    display: none;
  }

  .error-message.show {
    display: block;
  }

  .demo-accounts {
    margin-top: 30px;
    padding-top: 20px;
    border-top: 1px solid #e0e0e0;
  }

  .demo-accounts h3 {
    font-size: 14px;
    font-weight: 600;
    color: #666;
    margin-bottom: 12px;
    text-align: center;
  }

  .demo-account-item {
    background: #f8f9fa;
    border: 1px solid #e0e0e0;
    border-radius: 8px;
    padding: 12px;
    margin-bottom: 8px;
    cursor: pointer;
    transition: all 0.2s;
  }

  .demo-account-item:hover {
    background: #f0f0f0;
    border-color: #e63946;
    transform: translateX(2px);
  }

  .demo-account-item:last-child {
    margin-bottom: 0;
  }

  .demo-account-role {
    font-size: 12px;
    font-weight: 600;
    color: #e63946;
    margin-bottom: 4px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }

  .demo-account-details {
    font-size: 12px;
    color: #666;
    line-height: 1.6;
  }

  .demo-account-details strong {
    color: #333;
    font-weight: 600;
  }

  /* Responsive Styles */
  @media (max-width: 480px) {
    .container {
      width: calc(100% - 40px);
      margin: 20px;
      padding: 30px 25px;
    }

    .logo h1 {
      font-size: 28px;
    }

    .demo-accounts {
      margin-top: 20px;
      padding-top: 15px;
    }

    .demo-account-item {
      padding: 10px;
    }

    .demo-account-details {
      font-size: 11px;
    }
  }

</style>
</head>
<body>
  <div class="container">
    <div class="logo">
      <h1>Graphura</h1>
      <p id="form-title">Sign in to your account</p>
    </div>

    <div class="toggle-container">
      <button class="toggle-btn active" id="login-toggle">Login</button>
      <button class="toggle-btn" id="signup-toggle">Sign Up</button>
    </div>

    <div class="error-message" id="error-message"></div>
    <div class="success-message" id="success-message"></div>

    <!-- Login Form -->
    <form id="login-form" class="form-container active">
      <div class="field">
        <label for="login-email">Email</label>
        <input type="email" id="login-email" placeholder="Enter your email" required autocomplete="email" />
      </div>
      <div class="field">
        <label for="login-password">Password</label>
        <input type="password" id="login-password" placeholder="Enter your password" required autocomplete="current-password" />
      </div>
      <button type="submit" class="btn" id="login-btn">Login</button>
    </form>

    <!-- Demo Accounts Section -->
    <div class="demo-accounts" id="demo-accounts">
      <h3>Demo Accounts</h3>
      <div class="demo-account-item" data-email="admin@gmail.com" data-password="admin123">
        <div class="demo-account-role">Admin</div>
        <div class="demo-account-details">
          <strong>Email:</strong> admin@gmail.com<br>
          <strong>Password:</strong> admin123
        </div>
      </div>
      <div class="demo-account-item" data-email="leader@gmail.com" data-password="leader123">
        <div class="demo-account-role">Team Leader</div>
        <div class="demo-account-details">
          <strong>Email:</strong> leader@gmail.com<br>
          <strong>Password:</strong> leader123
        </div>
      </div>
      <div class="demo-account-item" data-email="employee@gmail.com" data-password="employee123">
        <div class="demo-account-role">Employee</div>
        <div class="demo-account-details">
          <strong>Email:</strong> employee@gmail.com<br>
          <strong>Password:</strong> employee123
        </div>
      </div>
    </div>

    <!-- Signup Form -->
    <form id="signup-form" class="form-container">
      <div class="field">
        <label for="signup-name">Full Name</label>
        <input type="text" id="signup-name" placeholder="Enter your full name" required autocomplete="name" />
      </div>
      <div class="field">
        <label for="signup-email">Email</label>
        <input type="email" id="signup-email" placeholder="Enter your email" required autocomplete="email" />
      </div>
      <div class="field">
        <label for="signup-password">Password</label>
        <input type="password" id="signup-password" placeholder="Create a password" required autocomplete="new-password" />
      </div>
      <div class="field">
        <label for="signup-role">Role</label>
        <select id="signup-role" required>
          <option value="">Select a role</option>
          <option value="employee">Employee</option>
          <option value="leader">Team Leader</option>
          <option value="admin">Admin</option>
        </select>
      </div>
      <button type="submit" class="btn" id="signup-btn">Sign Up</button>
    </form>

  </div>

  <script>

    // Initialize demo accounts
    function initializeDemoAccounts() {
      const users = JSON.parse(localStorage.getItem('users')) || [];
      
      const demoAccounts = [
        {
          id: 'admin-1',
          email: 'admin@gmail.com',
          password: 'admin123',
          name: 'Admin User',
          role: 'admin'
        },
        {
          id: 'leader-1',
          email: 'leader@gmail.com',
          password: 'leader123',
          name: 'Team Leader',
          role: 'leader'
        },
        {
          id: 'employee-1',
          email: 'employee@gmail.com',
          password: 'employee123',
          name: 'Employee User',
          role: 'employee'
        }
      ];
      
      // Add demo accounts if they don't exist
      demoAccounts.forEach(demoAccount => {
        const exists = users.find(u => u.email === demoAccount.email);
        if (!exists) {
          users.push(demoAccount);
        }
      });
      
      localStorage.setItem('users', JSON.stringify(users));
    }
    
    // Initialize demo accounts on page load
    initializeDemoAccounts();

    // Demo account click handlers
    const demoAccountItems = document.querySelectorAll('.demo-account-item');
    demoAccountItems.forEach(item => {
      item.addEventListener('click', function() {
        const email = this.getAttribute('data-email');
        const password = this.getAttribute('data-password');
        
        // Switch to login form if not already active
        if (!loginForm.classList.contains('active')) {
          loginToggle.click();
        }
        
        // Fill in the credentials
        emailInput.value = email;
        passwordInput.value = password;
        
        // Highlight the input fields briefly
        emailInput.focus();
        setTimeout(() => {
          passwordInput.focus();
        }, 200);
      });
    });

    // Toggle between login and signup
    const loginToggle = document.getElementById('login-toggle');
    const signupToggle = document.getElementById('signup-toggle');
    const loginForm = document.getElementById('login-form');
    const signupForm = document.getElementById('signup-form');
    const formTitle = document.getElementById('form-title');
    const errorMessage = document.getElementById('error-message');
    const successMessage = document.getElementById('success-message');

    const demoAccountsSection = document.getElementById('demo-accounts');

    loginToggle.addEventListener('click', function() {
      loginToggle.classList.add('active');
      signupToggle.classList.remove('active');
      loginForm.classList.add('active');
      signupForm.classList.remove('active');
      demoAccountsSection.style.display = 'block';
      formTitle.textContent = 'Sign in to your account';
      errorMessage.classList.remove('show');
      successMessage.classList.remove('show');
    });

    signupToggle.addEventListener('click', function() {
      signupToggle.classList.add('active');
      loginToggle.classList.remove('active');
      signupForm.classList.add('active');
      loginForm.classList.remove('active');
      demoAccountsSection.style.display = 'none';
      formTitle.textContent = 'Create your account';
      errorMessage.classList.remove('show');
      successMessage.classList.remove('show');
    });

    // Login form elements
    const emailInput = document.getElementById('login-email');
    const passwordInput = document.getElementById('login-password');
    const loginBtn = document.getElementById('login-btn');

    // Signup form elements
    const signupNameInput = document.getElementById('signup-name');
    const signupEmailInput = document.getElementById('signup-email');
    const signupPasswordInput = document.getElementById('signup-password');
    const signupRoleInput = document.getElementById('signup-role');
    const signupBtn = document.getElementById('signup-btn');


    // Login form submission
    loginForm.addEventListener('submit', function(e) {
      e.preventDefault();
      
      const email = emailInput.value.trim();
      const password = passwordInput.value;
      
      // Hide previous messages
      errorMessage.classList.remove('show');
      successMessage.classList.remove('show');
      
      // Get users from localStorage
      const users = JSON.parse(localStorage.getItem('users')) || [];
      
      // Find user by email
      const user = users.find(u => u.email === email && u.password === password);
      
      if (!user) {
        errorMessage.textContent = 'Invalid email or password';
        errorMessage.classList.add('show');
        return;
      }
      
      // Store current user in session
      localStorage.setItem('currentUser', JSON.stringify({
        id: user.id,
        email: user.email,
        name: user.name,
        role: user.role
      }));
      
      // Redirect based on role
      switch(user.role) {
        case 'admin':
          window.location.href = 'admin.html';
          break;
        case 'leader':
          window.location.href = 'team-leader.html';
          break;
        case 'employee':
          window.location.href = 'employee.html';
          break;
        default:
          errorMessage.textContent = 'Unknown user role';
          errorMessage.classList.add('show');
      }
    });

    // Signup form submission
    signupForm.addEventListener('submit', function(e) {
      e.preventDefault();
      
      const name = signupNameInput.value.trim();
      const email = signupEmailInput.value.trim();
      const password = signupPasswordInput.value;
      const role = signupRoleInput.value;
      
      // Hide previous messages
      errorMessage.classList.remove('show');
      successMessage.classList.remove('show');
      
      // Validation
      if (!name || !email || !password || !role) {
        errorMessage.textContent = 'Please fill in all fields';
        errorMessage.classList.add('show');
        return;
      }

      if (password.length < 6) {
        errorMessage.textContent = 'Password must be at least 6 characters';
        errorMessage.classList.add('show');
        return;
      }
      
      // Get users from localStorage
      const users = JSON.parse(localStorage.getItem('users')) || [];
      
      // Check if email already exists
      const existingUser = users.find(u => u.email === email);
      if (existingUser) {
        errorMessage.textContent = 'Email already registered. Please login instead.';
        errorMessage.classList.add('show');
        return;
      }
      
      // Create new user
      const newUser = {
        id: `${role}-${Date.now()}`,
        email: email,
        password: password,
        name: name,
        role: role
      };
      
      users.push(newUser);
      localStorage.setItem('users', JSON.stringify(users));
      
      // Show success message
      successMessage.textContent = 'Account created successfully! You can now login.';
      successMessage.classList.add('show');
      
      // Clear form
      signupForm.reset();
      
      // Switch to login after 1.5 seconds
      setTimeout(() => {
        loginToggle.click();
        emailInput.value = email;
        passwordInput.value = password;
      }, 1500);
    });
  </script>
</body>
</html>
